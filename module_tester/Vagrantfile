
cpus = 8
memory = 8192
box = "generic/ubuntu1804"
hostname = "fio.local"

Vagrant.configure("2") do |config|
    config.vm.box = box
    config.vm.host_name = hostname

    config.vm.provider :libvirt do |lv, override|
        lv.cpus = cpus
        lv.memory = memory
        lv.pci :bus => '0x0c', :slot => '0x00', :function => '0x0'
    end
    config.vm.provision "file", source: "../envfile", destination: "envfile"
    config.vm.provision "shell", path: "scripts/phase_1.sh"
    config.vm.provision :reload
    config.vm.provision "shell", path: "scripts/phase_1_1.sh"
    config.vm.provision "shell", path: "scripts/phase_2.sh"
    config.vm.provision "shell", path: "scripts/phase_3.sh"
end
